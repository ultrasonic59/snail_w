###############################################################################
#
# IAR ANSI C/C++ Compiler V8.40.1.212/W32 for ARM         04/Jun/2021  18:09:57
# Copyright 1999-2019 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =
#        D:\proj\velograph\snail\stm32_snail\usb_can\common\usb\usbd_usr.c
#    Command line =
#        -f C:\Users\vova\AppData\Local\Temp\EWC8B4.tmp
#        (D:\proj\velograph\snail\stm32_snail\usb_can\common\usb\usbd_usr.c -D
#        VECT_TAB_FLASH -D IAR_ARM_CM3 -D USEUSB -D MSTEP_BRD -D USE_USB_OTG_FS
#        -lcN D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\usb_can\List
#        --diag_suppress Pa082,pe191 -o
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\usb_can\Obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M3 -e --fpu=None --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench 8.3\arm\inc\c\DLib_Config_Full.h"
#        -I D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\.\ -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\src\board\ -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\freertos\source\inc\
#        -I D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\src\inc\ -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\freertos\source\port\ARM_CM3\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\libraries\inc\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\libraries\
#        -I D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\dbg\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\libraries\STM32F2xx_StdPeriph_Driver\inc\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\libraries\STM32F2xx_StdPeriph_Driver\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\usb\core\inc\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\usb\drv\inc\
#        -I D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\usb\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\usb\inc\
#        -I D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\hdlc\
#        -I
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\..\common\usb\cdc\
#        -I D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\src\my_grbl\
#        -On --use_c++_inline -I "C:\Program Files (x86)\IAR Systems\Embedded
#        Workbench 8.3\arm\CMSIS\Core\Include\" -I "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.3\arm\CMSIS\DSP\Include\")
#    Locale       =  C
#    List file    =
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\usb_can\List\usbd_usr.lst
#    Object file  =
#        D:\proj\velograph\snail\stm32_snail\usb_can\usb_can\usb_can\Obj\usbd_usr.o
#
###############################################################################

D:\proj\velograph\snail\stm32_snail\usb_can\common\usb\usbd_usr.c
      1          /**
      2            ******************************************************************************
      3            * @file    usbd_usr.c
      4            * @author  MCD Application Team
      5            * @version V1.2.0
      6            * @date    09-November-2015
      7            * @brief   This file includes the user application layer
      8            ******************************************************************************
      9            * @attention
     10            *
     11            * <h2><center>&copy; COPYRIGHT 2015 STMicroelectronics</center></h2>
     12            *
     13            * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
     14            * You may not use this file except in compliance with the License.
     15            * You may obtain a copy of the License at:
     16            *
     17            *        http://www.st.com/software_license_agreement_liberty_v2
     18            *
     19            * Unless required by applicable law or agreed to in writing, software 
     20            * distributed under the License is distributed on an "AS IS" BASIS, 
     21            * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     22            * See the License for the specific language governing permissions and
     23            * limitations under the License.
     24            *
     25            ******************************************************************************
     26            */ 
     27          
     28          /* Includes ------------------------------------------------------------------*/
     29          
     30          #include "usbd_usr.h"
     31          #include "printk.h"
     32          
     33          
     34          /** @addtogroup STM32_USB_OTG_DEVICE_LIBRARY
     35          * @{
     36          */
     37          
     38          /** @defgroup USBD_USR 
     39          * @brief    This file includes the user application layer
     40          * @{
     41          */ 
     42          
     43          /** @defgroup USBD_USR_Private_TypesDefinitions
     44          * @{
     45          */ 
     46          /**
     47          * @}
     48          */ 
     49          
     50          
     51          /** @defgroup USBD_USR_Private_Defines
     52          * @{
     53          */ 
     54          /**
     55          * @}
     56          */ 
     57          
     58          
     59          /** @defgroup USBD_USR_Private_Macros
     60          * @{
     61          */ 
     62          /**
     63          * @}
     64          */ 
     65          
     66          
     67          /** @defgroup USBD_USR_Private_Variables
     68          * @{
     69          */ 
     70          
     71          USBD_Usr_cb_TypeDef USR_cb =
     72          {
     73            USBD_USR_Init,
     74            USBD_USR_DeviceReset,
     75            USBD_USR_DeviceConfigured,
     76            USBD_USR_DeviceSuspended,
     77            USBD_USR_DeviceResumed,
     78            
     79            USBD_USR_DeviceConnected,
     80            USBD_USR_DeviceDisconnected,  
     81           };
     82          ///=========================================
     83          #if 0
     84          #if (USB_CLASS==CUSTOMHID)
     85            #define USER_INFORMATION1      (uint8_t*)"[Key]:RemoteWakeup"
     86            #define USER_INFORMATION2      (uint8_t*)"[Joystick]:Mouse emulation"
     87          #elif (USB_CLASS==MSC)
     88            #define USER_INFORMATION1  (uint8_t*)"INFO : Single Lun configuration"
     89            #define USER_INFORMATION2  (uint8_t*)"INFO : microSD is used"
     90          #endif 
     91          
     92          #endif
     93          
     94          
     95          
     96          
     97          /**
     98          * @brief  USBD_USR_Init 
     99          *         Displays the message on LCD for host lib initialization
    100          * @param  None
    101          * @retval None
    102          */
    103          void USBD_USR_Init(void)
    104          {
    105          }
    106          
    107          /**
    108          * @brief  USBD_USR_DeviceReset 
    109          *         Displays the message on LCD on device Reset Event
    110          * @param  speed : device speed
    111          * @retval None
    112          */
    113          void USBD_USR_DeviceReset(uint8_t speed )
    114          {
    115           switch (speed)
    116           {
    117             case USB_OTG_SPEED_HIGH: 
    118            ///   LCD_LOG_SetFooter ((uint8_t*)"     USB Device Library v1.2.0 [HS]" );
    119               break;
    120          
    121            case USB_OTG_SPEED_FULL: 
    122            ///   LCD_LOG_SetFooter ((uint8_t*)"     USB Device Library v1.2.0 [FS]" );
    123               break;
    124           default:
    125           ///    LCD_LOG_SetFooter ((uint8_t*)"     USB Device Library v1.2.0 [??]" );
    126               break;
    127              
    128           }
    129          }
    130          
    131          
    132          /**
    133          * @brief  USBD_USR_DeviceConfigured
    134          *         Displays the message on LCD on device configuration Event
    135          * @param  None
    136          * @retval Status
    137          */
    138          void USBD_USR_DeviceConfigured (void)
    139          {
    140          ////  LCD_UsrLog("> HID Interface started.\n");
    141          printk("> CDC Interface started.\n");
    142          }
    143          
    144          
    145          /**
    146          * @brief  USBD_USR_DeviceConnected
    147          *         Displays the message on LCD on device connection Event
    148          * @param  None
    149          * @retval Status
    150          */
    151          void USBD_USR_DeviceConnected (void)
    152          {
    153          printk("> USB Device Connected.\n");
    154          }
    155          
    156          
    157          /**
    158          * @brief  USBD_USR_DeviceDisonnected
    159          *         Displays the message on LCD on device disconnection Event
    160          * @param  None
    161          * @retval Status
    162          */
    163          void USBD_USR_DeviceDisconnected (void)
    164          {
    165          printk("> USB Device Disconnected.\n");
    166          }
    167          
    168          /**
    169          * @brief  USBD_USR_DeviceSuspended 
    170          *         Displays the message on LCD on device suspend Event
    171          * @param  None
    172          * @retval None
    173          */
    174          void USBD_USR_DeviceSuspended(void)
    175          {
    176          ////printk("> USB Device in Suspend Mode.\n");
    177            /* Users can do their application actions here for the USB-Reset */
    178          }
    179          
    180          
    181          /**
    182          * @brief  USBD_USR_DeviceResumed 
    183          *         Displays the message on LCD on device resume Event
    184          * @param  None
    185          * @retval None
    186          */
    187          void USBD_USR_DeviceResumed(void)
    188          {
    189          printk("> USB Device in Idle Mode.\n");
    190            /* Users can do their application actions here for the USB-Reset */
    191          }
    192          
    193          
    194          /************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   USBD_USR_DeviceConfigured
         8   -> printf
       8   USBD_USR_DeviceConnected
         8   -> printf
       8   USBD_USR_DeviceDisconnected
         8   -> printf
       0   USBD_USR_DeviceReset
       8   USBD_USR_DeviceResumed
         8   -> printf
       0   USBD_USR_DeviceSuspended
       0   USBD_USR_Init


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable4
       4  ??DataTable4_1
       4  ??DataTable4_2
       4  ??DataTable4_3
      28  ?_0
      28  ?_1
      28  ?_2
      28  ?_3
      10  USBD_USR_DeviceConfigured
      10  USBD_USR_DeviceConnected
      10  USBD_USR_DeviceDisconnected
      20  USBD_USR_DeviceReset
      10  USBD_USR_DeviceResumed
       2  USBD_USR_DeviceSuspended
       2  USBD_USR_Init
      28  USR_cb

 
  28 bytes in section .data
 112 bytes in section .rodata
  80 bytes in section .text
 
  80 bytes of CODE  memory
 112 bytes of CONST memory
  28 bytes of DATA  memory

Errors: none
Warnings: none
